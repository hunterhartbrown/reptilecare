<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReptileCare</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <a href="https://reptilecare.net">
            <img src="images/reptilecarelogo.png" alt="ReptileCare Logo" class="logo">
        </a>
        <nav>
            <ul class="nav-links">
                <li><a href="all-care-guides.html">All Care Guides</a></li>
                <li><a href="#">All Products</a></li>
                <li><a href="#">Magic Enclosure Designer</a></li>
                <li><a href="#">Research</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
        </nav>
        <div class="auth-buttons">
            <button class="login">Log In</button>
            <button class="signup">Sign Up</button>
        </div>
    </header>

    <section>
        <div class="content-slider">
            <!-- Dynamic content will be loaded here by the script below -->
        </div>
    </section>

    <footer>
        <p>   &copy; 2024 ReptileCare. All rights reserved.</p>
    </footer>

    <script>
        // Function to load JSON data from a local file
        function loadJson(fileName, callback) {
            var xobj = new XMLHttpRequest();
            xobj.overrideMimeType("application/json");
            xobj.open('GET', fileName, true);
            xobj.onreadystatechange = function () {
                if (xobj.readyState == 4 && xobj.status == "200") {
                    callback(JSON.parse(xobj.responseText));
                } else if (xobj.readyState == 4 && xobj.status == "404") {
                    console.error('JSON file not found or access denied.');
                }
            };
            xobj.send(null);
        }

        function init() {
            loadJson('/data/reptile_care_data.json', function(data) {  // Make sure this path is accessible by your server
                var container = document.querySelector('.content-slider');
                data.forEach(function(item, index) {
                    var div = document.createElement('div');
                    div.className = 'slide';
                    div.style.display = index === 0 ? 'flex' : 'none'; // Show first item initially and use flex
                    var imgDiv = document.createElement('div');
                    imgDiv.className = 'slide-image';
                    var img = document.createElement('img');
                    img.src = item['Picture Link'];
                    img.alt = item['Common Name'];

                    // Add unique class for the problematic image
                    if (img.src.includes("Leopard-Gecko-Climbing.jpg")) {
                        img.classList.add('problematic-image');
                    }

                    imgDiv.appendChild(img);
                    
                    var textDiv = document.createElement('div');
                    textDiv.className = 'overlay-text';
                    textDiv.innerHTML = `<h3 class="common-name">${item['Common Name']}</h3><h4 class="species-name">${item['Species']}</h4>`;
                    
                    div.appendChild(imgDiv);
                    div.appendChild(textDiv);
                    container.appendChild(div);
                });
                rotateSlides();
            });
        }

        var slideIndex = 0;
        function rotateSlides() {
            var slides = document.getElementsByClassName("slide");
            for (var i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) {slideIndex = 1}
            slides[slideIndex-1].style.display = "flex";
            setTimeout(rotateSlides, 6000); // Change slide every 6 seconds
        }

        // Initialize the process when the document is ready
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
