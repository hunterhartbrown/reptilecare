<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>ReptileCare</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <a href="https://reptilecare.net" class="logo-link">
      <img src="images/reptilecarelogo.png" alt="ReptileCare Logo" class="logo">
    </a>
    <button class="nav-toggle" aria-label="Toggle menu">
      <span class="hamburger"></span>
    </button>
    <nav class="nav" aria-label="Main navigation">
      <ul class="nav-links">
        <li><a href="all-care-guides.html">All Care Guides</a></li>
        <li><a href="#">All Products</a></li>
        <li><a href="#">Magic Enclosure Designer</a></li>
        <li><a href="#">Research</a></li>
        <li><a href="#">About Us</a></li>
      </ul>
    </nav>
    <div class="auth-buttons">
      <button class="login">Log In</button>
      <button class="signup">Sign Up</button>
    </div>
  </header>

  <section class="hero">
    <div class="content-slider" aria-roledescription="carousel"></div>
    <div class="slider-controls">
      <button class="prev-slide" aria-label="Previous slide">&#10094;</button>
      <button class="next-slide" aria-label="Next slide">&#10095;</button>
    </div>
    <div class="slider-dots" role="tablist"></div>
  </section>

  <footer class="site-footer">
    <p>&copy; 2025 ReptileCare. All rights reserved.</p>
  </footer>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const sliderEl = document.querySelector('.content-slider');
    const prevBtn  = document.querySelector('.prev-slide');
    const nextBtn  = document.querySelector('.next-slide');
    const dotsEl   = document.querySelector('.slider-dots');
    let slides = [], dots = [], current = 0, interval;

    // 1) fetch & parse JSON
    async function fetchData() {
      const res = await fetch('/data/reptile_care_data.json');
      return res.json();
    }

    // 2) build slides + dots
    function buildSlides(data) {
      data.forEach((item,i) => {
        // slide
        const fig = document.createElement('figure');
        fig.className = 'slide';
        fig.setAttribute('role','group');
        fig.setAttribute('aria-roledescription','slide');
        fig.setAttribute('aria-label', `${i+1} of ${data.length}`);
        if (!i) fig.classList.add('active');
        fig.innerHTML = `
          <div class="slide-image">
            <img src="${item['Picture Link']}" alt="Photo of ${item['Common Name']}" loading="lazy">
          </div>
          <figcaption class="overlay-text">
            <h3 class="common-name">${item['Common Name']}</h3>
            <h4 class="species-name">${item['Species']}</h4>
          </figcaption>`;
        sliderEl.appendChild(fig);
        slides.push(fig);

        // dot
        const dot = document.createElement('button');
        dot.className = 'dot';
        dot.setAttribute('aria-label', `Go to slide ${i+1}`);
        dot.addEventListener('click', () => goToSlide(i));
        dotsEl.appendChild(dot);
        dots.push(dot);
      });
      dots[0].classList.add('active');
    }

    // 3) slide logic
    function goToSlide(n) {
      slides[current].classList.remove('active');
      dots[current].classList.remove('active');
      current = n;
      slides[current].classList.add('active');
      dots[current].classList.add('active');
    }
    function nextSlide() { goToSlide((current+1)%slides.length); }
    function prevSlide() { goToSlide((current-1+slides.length)%slides.length); }

    // 4) auto-rotate with pause on hover
    function startAuto() { interval = setInterval(nextSlide,6000); }
    function stopAuto()  { clearInterval(interval); }

    // 5) event hookups
    nextBtn.addEventListener('click', () => { stopAuto(); nextSlide(); startAuto(); });
    prevBtn.addEventListener('click', () => { stopAuto(); prevSlide(); startAuto(); });
    sliderEl.addEventListener('mouseenter', stopAuto);
    sliderEl.addEventListener('mouseleave', startAuto);

    // 6) mobile nav toggle
    document.querySelector('.nav-toggle').addEventListener('click', () => {
      document.querySelector('.nav').classList.toggle('open');
    });

    // 7) init
    (async function init() {
      const data = await fetchData();
      buildSlides(data);
      startAuto();
    })();
  });
  </script>
</body>
</html>
